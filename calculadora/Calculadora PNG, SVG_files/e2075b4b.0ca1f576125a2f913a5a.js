(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{1098:function(t,i,a){var o=a(1315);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a(9).default)("718a5482",o,!0,{sourceMap:!1})},1099:function(t,i,a){var o=a(1317);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a(9).default)("09c3b37a",o,!0,{sourceMap:!1})},1314:function(t,i,a){"use strict";a(1098)},1315:function(t,i,a){var o=a(8)((function(t){return t[1]}));o.push([t.i,".ouch-favorite-status__btn[data-v-838c9f92]{height:24px;padding:4px;width:24px;z-index:2}.ouch-favorite-status__btn span[data-v-838c9f92]{height:16px;transition:all .2s ease-out;width:16px}",""]),o.locals={},t.exports=o},1316:function(t,i,a){"use strict";a(1099)},1317:function(t,i,a){var o=a(8)((function(t){return t[1]}));o.push([t.i,".illustration[data-v-04130974]{background-color:#f7f7f7;border:1px solid #1d1d1d08;border-radius:16px;cursor:pointer;height:100%;overflow:hidden;padding-top:100%;position:relative;transition:all .2s ease-out;width:100%}.illustration[data-v-04130974]:hover{border-color:#0000001a}.illustration:hover .illustration__favorite[data-v-04130974]{display:block}.illustration[data-v-04130974]:not(.no-animation) :focus,.illustration[data-v-04130974]:not(.no-animation):active{transform:scale(.98)}.illustration__badges[data-v-04130974]{display:flex;position:absolute;right:8px;top:8px}.illustration__badge[data-v-04130974]{border-radius:4px;font-size:12px;line-height:16px;padding:0 4px}.illustration__badge--free[data-v-04130974]{background:#4d4d4d;color:#fff;margin-left:8px}.illustration__badge--animated[data-v-04130974]{background:#efebff;color:#7e5eff}.illustration.blink[data-v-04130974]{animation:fade-show 1.5s infinite}.illustration__dummy[data-v-04130974]{height:100%;max-height:218px;max-width:100%;width:100%}.illustration__favorite[data-v-04130974]{bottom:0;display:block;height:40px;padding:4px 12px 12px 4px;position:absolute;right:0;transition:all .2s ease-out;width:40px}@media(min-width:768px){.illustration__favorite[data-v-04130974]{display:none}}.illustration.has-upload-image[data-v-04130974]{background:#fff;border:initial;padding:0!important}.illustration.has-upload-image .illustration__image-wrapper[data-v-04130974]{border:2px solid #ffd36f;border-top-left-radius:16px;border-top-right-radius:16px}.illustration.has-upload-image .illustration__preview[data-v-04130974]{padding:16px}.illustration.has-upload-image .illustration__preview[data-v-04130974] img{border-radius:4px}.illustration__image-wrapper[data-v-04130974]{position:relative}.illustration.is-empty[data-v-04130974]{border:initial;height:0;margin-bottom:0!important;overflow:hidden;pointer-events:none}.illustration.not-clickable[data-v-04130974]{pointer-events:none}.illustration .i8-loader[data-v-04130974]{left:0;margin-left:0;position:absolute;top:0;transform:translate(50%,calc(50% - 4px))}.illustration__preview[data-v-04130974]{align-items:center;display:flex;height:100%;justify-content:center;left:0;padding:16px;position:absolute;top:0;width:100%}.illustration__preview img[data-v-04130974]{height:auto;max-height:100%;max-width:100%;width:auto}.illustration__preview--lottie[data-v-04130974]{border-radius:7px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.illustration.show-animation .illustration__preview[data-v-04130974],.illustration__preview--lottie[data-v-04130974],.illustration__preview--video[data-v-04130974]{display:none}.illustration.show-animation .illustration__preview--lottie[data-v-04130974],.illustration.show-animation .illustration__preview--video[data-v-04130974]{display:flex}.illustration.show-loader .illustration__badge--animated[data-v-04130974]{padding-left:18px}.illustration__title[data-v-04130974]{align-items:center;background:#ffd36f;border-bottom-left-radius:4px;border-bottom-right-radius:4px;color:#1a1a1a;display:flex;font-size:14px;font-weight:400;justify-content:center;line-height:36px;text-align:center}",""]),o.locals={},t.exports=o},923:function(t,i,a){"use strict";function o(t,i){var a,o;const e=t||i,n=null==e||null===(a=e.params)||void 0===a?void 0:a.pathMatch,s=null==e||null===(o=e.fullPath)||void 0===o?void 0:o.includes("illustrations/t/");return!n||null!=n&&n.includes("t/")||!s||(e.params.pathMatch="t/"+e.params.pathMatch),e}function e(t){var i;const a=(null==t?void 0:t.pretty_id)||(null==t?void 0:t.id),o=null==t||null===(i=t.json)||void 0===i?void 0:i.url;return a?`/illustrations/illustration/${a}${o?"--animated":""}`:"/illustrations"}a.d(i,"b",(function(){return o})),a.d(i,"a",(function(){return e}))},936:function(t,i,a){"use strict";var o=a(15),e=a(939);i["a"]={computed:{...Object(o["e"])({windowWidth:t=>t.windowWidth})},watch:{windowWidth:"getColumns"},beforeMount(){this.getColumns()},mounted(){this.getColumns()},methods:{calcColumns(){var t;const i=(null===(t=this.$el)||void 0===t?void 0:t.offsetWidth)||0;i>0&&(this.columns=Object(e["b"])({width:i,hasComponents:!!this.hasComponents}))},getColumns(){this.calcColumns(),this.$nextTick(this.calcColumns)}}}},939:function(t,i,a){"use strict";a.d(i,"b",(function(){return d})),a.d(i,"a",(function(){return u}));const o=576,e=980,n=320,s=240,l=216,r=180;function d(t){let{width:i,hasComponents:a=!1}=t;const d=window.innerWidth;if(d<=o)return 2;if(d<=e){const t=Math.ceil(i/(a?r:s));return Math.min(t,3)}const u=Math.ceil(i/(a?l:n));return Math.max(u,3)}function u(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}},950:function(t,i,a){"use strict";var o=a(15),e=a(88),n=a.n(e),s=a(24),l=a(937),r=a(952),d={name:"OuchFavoriteStatus",components:{I8Button:s["b"]},props:{isFavorite:{type:Boolean,default:!1}}},u=(a(1314),a(6)),h=Object(u["a"])(d,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"ouch-favorite-status",on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.$emit("toggle")},mouseover:function(i){return t.$emit("mouse:over")},mouseleave:function(i){return t.$emit("mouse:leave")}}},[i("i8-button",{staticClass:"ouch-favorite-status__btn",attrs:{size:"large",type:"outline"}},[i("span",{domProps:{innerHTML:t._s(t.$icons[`favorites/heart${t.isFavorite?"-filled":""}`])}})])],1)}),[],!1,null,"838c9f92",null).exports,v=a(21),c=a(152),p=a(10),m=a(163);const f="rgba(126, 94, 255, 0.4)",g=30,_=300,w=16;var b={name:"OuchIllustration",components:{OuchFavoriteStatus:h,ouchVideo:r["a"],I8Loader:s["c"]},mixins:[l["a"]],props:{blinking:{type:Boolean,default:!1},columns:{type:Number,default:1},firstIllustration:{type:Boolean,default:!1},illustration:{type:Object,default:()=>{}},index:{type:Number,default:0},lcpImage:{type:Boolean,default:!1},link:{type:String,default:""},scaled:{type:Boolean,default:!1},upload:{type:[Object,null],default:null},user:{type:Object,default:()=>{}},windowHeight:{type:Number,default:0},windowWidth:{type:Number,default:1920}},data:()=>({cardHeight:0,cardWidth:0,defineCardSize:null,isAnimationLoading:!1,isFavoriteInternal:!1,isHovering:!1,isTogglingFavorite:!1,loaderColor:f,onFavorite:!1}),computed:{...Object(o["e"])({currentAnimatedIllustration:t=>t.currentAnimatedIllustrationId,favorites:t=>t.favorites.illustrations}),computedIllustrationWidth(){const t=(this.cardHeight-2*w)*this.illustrationProportion,i=this.cardWidth-2*w;return t>i?i:t},imageClasses(){return{"image-preview":this.hasAnimation}},imageStyles(){return this.previewMaxWidth?{"max-width":`${this.previewMaxWidth}px`}:{}},isFavorite(){var t,i,a,o;return(null===(t=this.favorites[null===(i=this.illustration)||void 0===i?void 0:i.id])||void 0===t?void 0:t.animated)||(null===(a=this.favorites[null===(o=this.illustration)||void 0===o?void 0:o.id])||void 0===a?void 0:a.static)},videoFormat:()=>Object(c["e"])()?"quicktime":"webm",videoUrl(){var t,i,a,o;return Object(c["e"])()?null===(t=this.illustration)||void 0===t||null===(i=t.mov_hevc_preview)||void 0===i?void 0:i.url:null===(a=this.illustration)||void 0===a||null===(o=a.webm_preview)||void 0===o?void 0:o.url},description(){var t;return this.$t(`OUCH_V2.SEO.ILLUSTRATION_PAGE.TITLE${this.hasAnimation?"_ANIMATED":""}`,{heading:Object(p["uppercaseFirstLetter"])((null===(t=this.illustration)||void 0===t?void 0:t.heading)||"")})},hasAnimation(){return!!this.jsonSrc||!!this.videoUrl},jsonSrc(){var t,i;return null===(t=this.illustration)||void 0===t||null===(i=t.json)||void 0===i?void 0:i.url},illustrationID(){var t,i;return(null===(t=this.illustration)||void 0===t?void 0:t.id)||(null===(i=this.illustration)||void 0===i?void 0:i.pretty_id)||"illustration"},illustrationClasses(){var t;return{blink:this.blinking,dummy:!this.url,"has-upload-image":!!this.upload,"is-empty":null===(t=this.illustration)||void 0===t?void 0:t.empty,"show-loader":this.isAnimationLoading,"show-animation":this.showAnimation,"no-animation":this.onFavorite}},illustrationProportion(){var t,i,a,o;const e=(null===(t=this.illustration)||void 0===t||null===(i=t.thumb1x)||void 0===i?void 0:i.height)||1;return((null===(a=this.illustration)||void 0===a||null===(o=a.thumb1x)||void 0===o?void 0:o.width)||1)/e},illustrationStyles(){return this.scaled?{"padding-top":this.paddingTop}:{}},isCurrent(){var t;return this.currentAnimatedIllustration===(null===(t=this.illustration)||void 0===t?void 0:t.id)&&this.isHovering},isFree(){var t;return null===(t=this.illustration)||void 0===t?void 0:t.free_distribution},paddingTop(){var t,i,a,o,e,n,s,l;const r=(null===(t=this.upload)||void 0===t||null===(i=t.thumb2x)||void 0===i?void 0:i.height)||(null===(a=this.illustration)||void 0===a||null===(o=a.thumb1x)||void 0===o?void 0:o.height),d=(null===(e=this.upload)||void 0===e||null===(n=e.thumb2x)||void 0===n?void 0:n.width)||(null===(s=this.illustration)||void 0===s||null===(l=s.thumb1x)||void 0===l?void 0:l.width),u=(this.windowHeight||window.innerHeight)*v["q"]/100,h=this.cardWidth-2*v["l"];if(Math.min(this.cardHeight,h*r/d+2*v["l"])>u)return`${u}px`;if(d<h)return`${r+2*v["l"]}px`;const c=100*(r||1)/(d||1);return c>_?`${_}%`:c<g?`${g}%`:`${c}%`},previewMaxWidth(){let t=null;for(const i of v["y"])if(this.computedIllustrationWidth>i){t=i;break}return t},showAnimation(){return this.isCurrent&&(!!this.lottieInstance||this.videoUrl)&&!this.isAnimationLoading},showLottie(){return!this.showVideo&&!!this.lottieData&&this.isCurrent},showVideo(){return!!this.videoUrl&&this.isCurrent},url(){var t,i;return this.upload?this.upload.thumb2x.url:null===(t=this.illustration)||void 0===t||null===(i=t.thumb1x)||void 0===i?void 0:i.url}},watch:{columns:{immediate:!0,handler(){"function"==typeof this.defineCardSize&&this.defineCardSize()}},isCurrent(t){this.videoUrl?this.isAnimationLoading=t:t?this.lottieInstance?this.lottiePlay():this.getLottieJson():this.breakAnimation()},isFavorite:{immediate:!0,handler(t){t!==this.isFavoriteInternal&&(this.isFavoriteInternal=t)}},windowHeight(){"function"==typeof this.defineCardSize&&this.defineCardSize()},windowWidth(){"function"==typeof this.defineCardSize&&this.defineCardSize()}},mounted(){this.defineCardSize=n()(this.getCardSize,300),this.$nextTick(this.defineCardSize)},methods:{async getLottieJson(){!this.jsonSrc||0||this.lottieData||this.fetchJSON()},getCardSize(){this.$nextTick((()=>{var t,i;this.cardWidth=(null===(t=this.$el)||void 0===t?void 0:t.offsetWidth)||0,this.cardHeight=(null===(i=this.$el)||void 0===i?void 0:i.offsetHeight)||0,this.firstIllustration&&this.$emit("change-card-width",this.cardWidth)}))},openIllustrationModal(t){this.upload||this.$emit("open",this.index)},async onFavoriteChange(){if(!this.isTogglingFavorite){if(this.user.isGuest)return this.$emit("open:auth");try{this.isTogglingFavorite=!0;const t=this.isFavoriteInternal;if(this.toggleFavorite(),t)for(const t of["static","animated"]){const i={type:t,id:this.illustration.id};await Object(m["d"])(i,this.$store)}else await Object(m["a"])({type:this.hasAnimation?"animated":"static",id:this.illustration.id},this.$store)}catch(t){this.toggleFavorite()}finally{this.isTogglingFavorite=!1}}},toggleFavorite(){this.isFavoriteInternal=!this.isFavoriteInternal},onMouseOver(){var t;this.upload||(this.isHovering=!0,this.$store.commit("SET_CURRENT_ANIMATED_ILLUSTRATION",null===(t=this.illustration)||void 0===t?void 0:t.id))},onMouseLeave(){this.isHovering=!1}}},x=(a(1316),Object(u["a"])(b,(function(){var t=this,i=t._self._c;return i("a",{staticClass:"illustration",class:t.illustrationClasses,attrs:{"data-illustration":t.illustrationID,href:t.link},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.openIllustrationModal.apply(null,arguments)},mouseover:t.onMouseOver,mouseleave:t.onMouseLeave}},[i("div",{staticClass:"illustration__image-wrapper",style:t.illustrationStyles},[i("div",{staticClass:"illustration__preview"},[i("img",{class:t.imageClasses,style:t.imageStyles,attrs:{src:t.url,alt:t.description,fetchpriority:t.lcpImage?"high":"low",loading:t.lcpImage?"eager":"lazy"}})]),t.showVideo?i("ouch-video",{staticClass:"illustration__preview illustration__preview--video",attrs:{format:t.videoFormat,url:t.videoUrl},on:{load:function(i){t.isAnimationLoading=!1}}}):t._e(),t.showLottie?i("lottie",{key:`illustration-lottie-${t.illustrationID}`,staticClass:"illustration__preview illustration__preview--lottie",attrs:{"class-name":"animation",renderer:"svg","animation-data":t.lottieData,autoplay:!1,loop:!0,"max-width":t.previewMaxWidth},on:{getLottieInstance:t.getLottieInstance}}):i("div",{staticClass:"illustration__dummy"}),i("div",{staticClass:"illustration__badges"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasAnimation,expression:"hasAnimation"}],staticClass:"illustration__badge illustration__badge--animated semi-bold"},[t.isAnimationLoading?i("i8-loader",{attrs:{size:9,width:1.5}}):t._e(),i("div",{staticClass:"illustration__badge-text"},[t._v(t._s(t.$t("OUCH.SUBJECTS.ANIMATED")))])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isFree,expression:"isFree"}],staticClass:"illustration__badge illustration__badge--free semi-bold"},[t._v(t._s(t.$t("OUCH.SUBJECTS.FREE")))])]),t.upload?t._e():i("ouch-favorite-status",{staticClass:"illustration__favorite",attrs:{"is-favorite":t.isFavoriteInternal},on:{"mouse:over":function(i){t.onFavorite=!0},"mouse:leave":function(i){t.onFavorite=!1},toggle:t.onFavoriteChange}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.upload,expression:"upload"}],staticClass:"illustration__title"},[t._v(t._s(t.$t("OUCH_V2.SEARCH.YOUR_IMAGE")))])])}),[],!1,null,"04130974",null));i["a"]=x.exports}}]);